# @summary A short summary of the purpose of this class
#
# A description of what this class does
#
# @example
#   include delta_dumper::configure
class delta_dumper::configure {

  $_vars = [
    'log_level',
    'facility',
    'checksum',
    'checksum_binaries',
    'checksum_algorithm',
    'mbuffer',
    'mbuffer_binary',
    'mbuffer_opts',
    'rate_limit',
    'mysql_skip_database',
    'postgresql_skip_database',
    'compression',
    'secondary_compression',
    'compressor_compress',
    'compressor_uncompress',
    'compressor_suffix',
    'backup_location',
    'old_backup_location',
    'tmpdir',
    'mysql_bindir',
    'postgresql_bindir',
    'postgresql_extra_option',
    'postgresql_username',
    'postgresql_host',
    'mysql',
    'postgresql',
    'rsyncable',
    'rsyncable_location',
    'rsyncable_compression',
    'sys_logging',
    'terminal_logging',
    'file_logging',
    'mysql_defaults_file',
    'mysql_single_transaction',
    'mysql_ignore_table',
    'mysql_user',
    'mysql_password',
    'mysql_hostname',
    'mysql_extra_option',
    'mysql_verify',
    'daily',
    'weekly',
    'monthly',
    'week_start',
    'month_start',
    'maxage',
    'rsync_binary',
    'rsync_options',
    'prerun',
    'postrun',
    'mongodb',
    'mongodb_bindir',
    'mongodb_username',
    'mongodb_password',
    'mongodb_port',
    'mongodb_hostname',
    'mongodb_ssl',
  ]
  file { "${delta_dumper::etc_dir}/config":
    owner   => $delta_dumper::user,
    group   => $delta_dumper::group,
    mode    => '0400',
    content => template('delta_dumper/config.erb'),
  }
}
